"use strict";var _0x4101ee=_0x3dd9,rimraf=(!function(){for(var e=_0x3dd9,r=_0x649b();;)try{if(707415==+parseInt(e(463))*(-parseInt(e(453))/2)+-parseInt(e(504))/3+-parseInt(e(502))/4*(-parseInt(e(483))/5)+-parseInt(e(494))/6+-parseInt(e(477))/7+-parseInt(e(487))/8+parseInt(e(466))/9*(parseInt(e(506))/10))break;r.push(r.shift())}catch(e){r.push(r.shift())}}(),require(_0x4101ee(514))),fs=require("fs"),path=require("path"),semver=require(_0x4101ee(507)),projectPath=process[_0x4101ee(503)].projectRoot||process[_0x4101ee(479)](),webCfgPath=path[_0x4101ee(500)](projectPath,_0x4101ee(471)),signConfigPath=path[_0x4101ee(500)](projectPath,"./quickapp.config.js"),signConfig=fs[_0x4101ee(490)](signConfigPath)?require(signConfigPath):{},webSignConfig=fs[_0x4101ee(490)](webCfgPath)?require(webCfgPath):{},quickAppConfigPath=path[_0x4101ee(500)](projectPath,"./quickapp.config.js"),quickAppConfig=fs[_0x4101ee(490)](quickAppConfigPath)?require(quickAppConfigPath):{};function getJsonData(r){var t=_0x4101ee;if(!fs[t(490)](r))return{};var e={};try{e=JSON.parse(fs[t(486)](r,"utf-8"))}catch(e){throw"ERROR: The file format is incorrect: "[t(508)](r)}return e}function initVersionType(){var e=_0x4101ee,r=[e(472),e(512),e(495)],t=process[e(503)][e(481)];global[e(484)]=e(472),t&&r[e(510)](t)?global[e(484)]=t:(r=process[e(503)][e(462)]===e(501),global[e(484)]=r?e(495):"debug")}function _0x649b(){var e=["call","27740511qULcqF","WEB_SIGN_CONFIG","satisfies","quickAppConfig","push","./quickapp.config.json","debug","SIGN_CONFIG","toString","enableE2e","signFlag","4725189FeQOWB","PROJECT_PATH","cwd"," at least.\nPlease upgrade your Node version.","versionType","[Fa-Toolkit Warn]: You are using Node ","10rJVSxR","_versionType","privateKey","readFileSync","7324320tODSES","prototype","enableIstanbul","existsSync","readdirSync","package.json","sign","3752310aHwQNB","release","isComboCard","getJsonData","utf-8","[object String]","join","true","1637224xcRKDp","env","2840343sDizQP","getFlexibleCfg","10XfMazC","semver","concat","ERROR: Can not find quick card '","includes",", but this version of ","beta","parse","rimraf","checkNodeVersion","error","61486fMoqdX","splitChunksMode","manifest.json","comboCard","map","ERROR: private key parameter is invalid.","package.config.json","getFlexibleCardManifestPath","version","uglifyjs","1YUcqMX","src"];return(_0x649b=function(){return e})()}function isComboCard(e){return[_0x4101ee(456),"page"].includes(e)}function getFlexibleCardManifestPath(){var n=_0x4101ee,e=getFlexibleCards(),o=[],s=fs[n(491)](path[n(500)](projectPath,n(464)));return e[n(457)](function(e){var r=n,t=path[r(500)](projectPath,"src",e,r(455));if(!fs.existsSync(t)||!s[r(510)](e))throw r(509)[r(508)](e,"'.");o[r(470)](t)}),o}function getFlexibleCards(){var e=_0x4101ee,r=getFlexibleCfg(),t=r.quickCard,t=void 0===t?[]:t,r=r.comboCard,r=void 0===r?[]:r;return t[e(508)](r)}function _0x3dd9(e,r){var t=_0x649b();return(_0x3dd9=function(e,r){return t[e-=453]})(e,r)}function getFlexibleCfg(){var e=_0x4101ee,r=path[e(500)](projectPath,e(464),e(459));return JSON[e(513)](fs[e(486)](r,e(498)))}exports[_0x4101ee(469)]=quickAppConfig,exports.norpk=process.env.norpk===_0x4101ee(501),exports[_0x4101ee(475)]="true"===process[_0x4101ee(503)][_0x4101ee(475)],exports[_0x4101ee(489)]="true"===process.env[_0x4101ee(489)],exports[_0x4101ee(454)]=process[_0x4101ee(503)][_0x4101ee(454)],initVersionType(),exports.IS_PRD=(global[_0x4101ee(484)]===_0x4101ee(495)||global._versionType===_0x4101ee(512))&&process[_0x4101ee(503)][_0x4101ee(475)]!==_0x4101ee(501),exports[_0x4101ee(473)]=signConfig.sign,exports[_0x4101ee(467)]=webSignConfig[_0x4101ee(493)],exports[_0x4101ee(478)]=projectPath,exports[_0x4101ee(476)]=process[_0x4101ee(503)][_0x4101ee(493)]===_0x4101ee(495),exports.clearResource=function(e){return Promise.all(e.map(function(r){if(fs[_0x3dd9(490)](r))return new Promise(function(e){return rimraf(r,e)})}))},exports[_0x4101ee(515)]=function(e,r){var t=_0x4101ee;semver[t(468)](process[t(461)],">= "[t(508)](e))||(console[t(516)](t(482)[t(508)](process[t(461)],t(511)).concat(r," ")+"requires Node "[t(508)](e,t(480))),process.exit(1))},exports.isPrivatePkg=function(){var e=_0x4101ee,e=getJsonData(path[e(500)](__dirname,"..","..",e(492))).name;return"fa-toolkit"!==e&&e.includes("/")},exports.getPrivateKeyStr=function(e){var r=_0x4101ee;if(!e||!e[r(485)])return"";e=e.privateKey,e=Object[r(488)][r(474)][r(465)](e)===r(499)?e:"";if(e){if(!/^[a-zA-Z0-9+=/]*$/.test(e))throw r(458);e="-----BEGIN RSA PRIVATE KEY-----\n"[r(508)](e,"\n-----END RSA PRIVATE KEY-----")}return e},exports.getFlexibleCards=getFlexibleCards,exports[_0x4101ee(505)]=getFlexibleCfg,exports[_0x4101ee(460)]=getFlexibleCardManifestPath,exports[_0x4101ee(496)]=isComboCard,exports[_0x4101ee(497)]=getJsonData;