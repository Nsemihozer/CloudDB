"use strict";var _0x4eb5c4=_0x39d2;function ownKeys(r,e){var t,n=_0x39d2,a=Object[n(221)](r);return Object.getOwnPropertySymbols&&(t=Object[n(247)](r),e&&(t=t[n(231)](function(e){return Object[n(215)](r,e).enumerable})),a[n(259)].apply(a,t)),a}function _0x39d2(e,r){var t=_0x1933();return(_0x39d2=function(e,r){return t[e-=159]})(e,r)}function _0x1933(){var e=[");\n","var $app_style$ = require(","replace","projectRoot","     $app_module$.exports.template = $app_template$\n","concat","getOwnPropertySymbols","parseFragment","node_modules","     $app_script$($app_module$, $app_exports$, $app_require$)\n","name","isReservedTag","makeRequireString",".ux","./quickapp.config.js","type","template","none","push","statSync","', function() {\n","logWarn","resolve","1378125rAwWun","getNameByPath","apply","toLowerCase","length","iterator","options","done","', [], function($app_require$, $app_exports$, $app_module$){\n","depends","join","lang","parseQuery","manifest","defineProperty","isDirectory","existsSync","exports","Map","var $app_script$ = ","\n$app_define_wrap$('@app-component/","\n$app_define$('@app-component/","readdirSync","5496584Flbjpr","script","enableLazyComponent","8123922HGPttT","widgetsDependList","resourceQuery","constructor","573SHDrxb","version","var $app_style$ = ","style","Set","test","cwd","src","match","ERROR: Please specify the import file, src : ","srcPath","{ packagerName:'fa-toolkit', packagerVersion: '","isArray","normalize","26798VPkKjc","4867576BqWycZ","27384IYHMJN","manifest.json","value","loader-utils","must not use the reserved character: ","17lkSKIv","ERROR: Can not resolve manifest.json in ","stringifyRequest","ERROR: To import components, you need to set attribute `src`.","ERROR: The template fragment is required.","../../package.json","29481550nazdec","            $app_module$.exports = $app_exports$.default\n        }\n","some","getOwnPropertyDescriptor","component","?name=","entry","'})","return","keys","string","resourcePath","./parser","var $app_template$ = ","Object","defineProperties","sourceRoot","12GSReJE","import","filter","dirname","index.ux","NOTE: Import file is by default: ","getOwnPropertyDescriptors","relative","@@iterator","Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.","call","makeLoaderString"];return(_0x1933=function(){return e})()}function _objectSpread(r){for(var t=_0x39d2,e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(r,e,n[e])}):Object[t(235)]?Object[t(227)](r,Object[t(235)](n)):ownKeys(Object(n)).forEach(function(e){Object[t(169)](r,e,Object.getOwnPropertyDescriptor(n,e))})}return r}function _defineProperty(e,r,t){var n=_0x39d2;return r in e?Object[n(169)](e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _createForOfIteratorHelper(e,r){var t,n=_0x39d2,a="undefined"!=typeof Symbol&&e[Symbol[n(160)]]||e[n(237)];if(!a){if(Array[n(197)](e)||(a=_unsupportedIterableToArray(e))||r&&e&&"number"==typeof e.length)return a&&(e=a),t=0,{s:r=function(){},n:function(){return t>=e[n(159)]?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r};throw new TypeError(n(238))}var o,i=!0,s=!1;return{s:function(){a=a[n(239)](e)},n:function(){var e=n,r=a.next();return i=r[e(162)],r},e:function(e){s=!0,o=e},f:function(){var e=n;try{i||null==a.return||a[e(220)]()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,r){var t=_0x39d2;if(e){if(typeof e===t(222))return _arrayLikeToArray(e,r);var n=Object.prototype.toString[t(239)](e).slice(8,-1);return(n=n===t(226)&&e[t(184)]?e[t(184)][t(251)]:n)===t(173)||n===t(189)?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/[t(190)](n)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}!function(){for(var e=_0x39d2,r=_0x1933();;)try{if(771866==+parseInt(e(206))*(-parseInt(e(199))/2)+parseInt(e(185))/3*(parseInt(e(201))/4)+-parseInt(e(264))/5+parseInt(e(229))/6*(-parseInt(e(200))/7)+-parseInt(e(178))/8+-parseInt(e(181))/9+parseInt(e(212))/10)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();var loaderUtils=require(_0x4eb5c4(204)),path=require("path"),fs=require("fs"),parser=require(_0x4eb5c4(224)),utils=require("./utils"),validator=require("./template/validator"),projectPath=process.env[_0x4eb5c4(244)]||process[_0x4eb5c4(191)](),quickAppConfigPath=path[_0x4eb5c4(165)](projectPath,_0x4eb5c4(255)),quickAppConfig=fs[_0x4eb5c4(171)](quickAppConfigPath)?require(quickAppConfigPath):{},srcPath=path.join(projectPath,quickAppConfig&&quickAppConfig[_0x4eb5c4(228)]?quickAppConfig[_0x4eb5c4(228)]:_0x4eb5c4(192)),packagerVersion=require(_0x4eb5c4(211))[_0x4eb5c4(186)],resolve=function(){var e=_0x4eb5c4;return path[e(165)][e(266)](path,arguments)},_quickAppConfig$sourc=quickAppConfig[_0x4eb5c4(228)],sourceRoot=void 0===_quickAppConfig$sourc?_0x4eb5c4(192):_quickAppConfig$sourc,rootDir=resolve(projectPath,sourceRoot),manifestPath=resolve(rootDir,_0x4eb5c4(202));function getManifestJson(e){var r=_0x4eb5c4;if(fs[r(171)](e))return require(e);throw r(207)[r(246)](rootDir)}var _getManifestJson=getManifestJson(manifestPath),_getManifestJson$entr=_getManifestJson[_0x4eb5c4(218)],quickCardEntry=void 0===_getManifestJson$entr?"":_getManifestJson$entr;function buildWdigetsDependList(n,e){var a=_0x4eb5c4;if("webapp"===(n.options[a(168)]||{}).type&&n[a(161)][a(182)]&&e){var o,i=n[a(161)][a(182)],r=_createForOfIteratorHelper(e);try{for(r.s();!(o=r.n()).done;)!function(){var e=a,r=o[e(203)],t=path.resolve(n.context,r.src,"..");i[e(214)](function(e){return e===t})||i[e(259)](t)}()}catch(e){r.e(e)}finally{r.f()}}}function loader(e,r,t){var n=_0x4eb5c4,t=_objectSpread(_objectSpread({},t),loaderUtils[n(167)](e[n(183)]||"?")),a=t.entry,o=t[n(251)],i=t[n(256)],s=e[n(223)],p=path[n(236)](".",s),a=a?p:o||utils.getNameByPath(s),p=path.normalize(path[n(236)](e[n(161)][n(195)],s)),c=(validator.default[n(252)](a)&&utils[n(262)](e,[{reason:"ERROR: The file name must not contain reserved character:"[n(246)](a)}]),""),u=parser[n(248)](r),l=[];buildWdigetsDependList(e,u.import);for(var f=0;f<u[n(230)][n(159)];f++){var d=u.import[f];if(!d[n(192)])return utils[n(262)](e,[{reason:n(209)}]),"";d[n(251)]||(d[n(251)]=utils[n(265)](d[n(192)])),d[n(251)]=d.name[n(267)]().trim(),validator.default.isReservedTag(d[n(251)])&&utils[n(262)](e,[{reason:"ERROR: Attribute 'name' of the imported component "+n(205).concat(d[n(251)])}]),l[n(259)](d[n(251)]);var _=d[n(192)],m=(/^[^./]/[n(190)](_)&&(m=path.relative(path[n(232)](s),srcPath),_=path[n(165)]("..",m,n(249),_)),path[n(165)](path[n(232)](s),_));if(!fs.existsSync(m)||fs[n(260)](m)[n(170)]())if(fs[n(171)](""[n(246)](m,n(254))))_=""[n(246)](_,n(254));else{if(!fs.statSync(m)[n(170)])return utils.logWarn(e,[{reason:"ERROR: Import file does not exist, filepath : "[n(246)](m)}]),"";for(var y=fs[n(177)](m),h="",b=[],g=[],v=0;v<y[n(159)];v++)if((h=y[v])[n(193)](/\.ux/)&&b.push(h),h.toLowerCase()===n(233)){g[n(259)](h);break}if(g[n(159)])_=path[n(165)](m,g[0]);else{if(1!==b[n(159)])return utils[n(262)](e,[{reason:n(194)[n(246)](_)}]),"";utils.logWarn(e,[{reason:n(234)[n(246)](path.join(_,b[0]))}]),_=path[n(165)](m,b[0])}}c+=utils.makeRequireString(e,utils.makeLoaderString("component",{source:d[n(192)]}),""[n(246)](_,n(217)).concat(d[n(251)]))}if(u[n(164)][n(159)]){var x,$={},k=_createForOfIteratorHelper(u.depends);try{for(k.s();!(x=k.n()).done;){var q=x[n(203)],R=n(254),j=path[n(263)](path[n(232)](s),q+R);$[q]=j,l.indexOf(q)<0&&fs.existsSync(j)&&(c+=utils.makeRequireString(e,utils.makeLoaderString(n(258)),"./"[n(246)](q)[n(246)](R)))}}catch(e){k.e(e)}finally{k.f()}}if(!u[n(257)][n(159)])return utils[n(262)](e,[{reason:n(210)}]),"";var O,P,o=u[n(257)][0],r=s;return o[n(192)]&&(r=o[n(192)]),c+=n(225)[n(246)](utils.makeRequireString(e,utils[n(240)](n(257),{source:o[n(192)]},null,u[n(164)],t),r)),u.style[n(159)]&&(o=s,(r=u[n(188)][0])[n(192)]&&(o=r[n(192)]),P=path[n(165)](path[n(232)](s),r[n(192)]||"")[n(243)](/\\/g,"/"),r[n(192)]?(O=utils.makeLoaderString(n(188),{source:1,lang:r[n(166)]}),O=loaderUtils[n(208)](e,"!!"[n(246)](O,"!").concat(P)),c+=n(242).concat(O,n(241))):c+=n(187).concat(utils[n(253)](e,utils.makeLoaderString(n(188),{source:r.src,lang:r.lang,resourcePath:s}),o))),u[n(179)].length&&(P=s,(O=u[n(179)][0])[n(192)]&&(P=O.src),r=utils[n(240)](n(179),{source:O.src,isQuickCardEntry:""[n(246)](path[n(198)](quickCardEntry),n(254))===p}),c+=n(174)[n(246)](utils[n(253)](e,r,P))),c+=n(176).concat(a,n(163)),0<u[n(179)].length&&(c=(c+=n(250))+("     if ($app_exports$.__esModule && $app_exports$.default) {\n"+n(213))),c+=n(245),0<u.style[n(159)]&&(c+="     $app_module$.exports.style = $app_style$\n"),c+="})\n",t&&"component"===i||(c+="\n$app_bootstrap$('@app-component/"[n(246)](a,"',")+n(196)[n(246)](packagerVersion,n(219))),c=e[n(161)][n(180)]&&i&&n(216)===i?n(175)[n(246)](a,n(261))[n(246)](c,"})"):c}module[_0x4eb5c4(172)]=loader;