"use strict";var _0xf81f75=_0x4386;function _typeof(r){var e=_0x4386;return(_typeof="function"==typeof Symbol&&e(242)==typeof Symbol[e(149)]?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r[e(176)]===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function _createForOfIteratorHelper(r,e){var t,n=_0x4386,o=typeof Symbol!==n(263)&&r[Symbol.iterator]||r[n(221)];if(!o){if(Array[n(179)](r)||(o=_unsupportedIterableToArray(r))||e&&r&&typeof r[n(246)]===n(257))return o&&(r=o),t=0,{s:e=function(){},n:function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}},e:function(r){throw r},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){o=o[n(150)](r)},n:function(){var r=n,e=o[r(114)]();return i=e[r(240)],e},e:function(r){c=!0,a=r},f:function(){var r=n;try{i||null==o[r(239)]||o[r(239)]()}finally{if(c)throw a}}}}function _unsupportedIterableToArray(r,e){var t=_0x4386;if(r){if(typeof r===t(168))return _arrayLikeToArray(r,e);var n=Object[t(137)][t(161)][t(150)](r)[t(229)](8,-1);return(n=n===t(266)&&r[t(176)]?r[t(176)][t(143)]:n)===t(131)||n===t(140)?Array[t(108)](r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/[t(192)](n)?_arrayLikeToArray(r,e):void 0}}function _arrayLikeToArray(r,e){(null==e||e>r[_0x4386(246)])&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function _regeneratorRuntime(){var f=_0x4386,c=(_regeneratorRuntime=function(){return c},{}),r=Object.prototype,u=r[f(211)],e="function"==typeof Symbol?Symbol:{},a=e.iterator||f(221),t=e.asyncIterator||"@@asyncIterator",n=e[f(216)]||f(130);function o(r,e,t){return Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}),r[e]}try{o({},"")}catch(r){o=function(r,e,t){return r[e]=t}}function s(r,e,t,n){var o,a,i,c,s,u=f,e=e&&e.prototype instanceof h?e:h,e=Object[u(122)](e.prototype),n=new x(n||[]);return e[u(124)]=(o=r,a=t,i=n,s=(c=u)(129),function(r,e){var t=c;if(t(171)===s)throw new Error(t(141));if(t(232)===s){if("throw"===r)throw e;return k()}for(i[t(164)]=r,i[t(212)]=e;;){var n=i[t(155)];if(n){n=function r(e,t){var n=f,o=e[n(149)][t[n(164)]];if(void 0===o){if(t.delegate=null,"throw"===t[n(164)]){if(e[n(149)][n(239)]&&(t.method=n(239),t.arg=void 0,r(e,t),n(267)===t.method))return p;t[n(164)]="throw",t.arg=new TypeError(n(166))}return p}o=l(o,e.iterator,t[n(212)]);if(n(267)===o.type)return t[n(164)]=n(267),t[n(212)]=o.arg,t[n(155)]=null,p;o=o[n(212)];return o?o.done?(t[e[n(145)]]=o[n(115)],t[n(114)]=e.nextLoc,n(239)!==t.method&&(t[n(164)]=n(114),t[n(212)]=void 0),t[n(155)]=null,p):o:(t[n(164)]=n(267),t[n(212)]=new TypeError(n(244)),t[n(155)]=null,p)}(n,i);if(n){if(n===p)continue;return n}}if(t(114)===i[t(164)])i.sent=i[t(174)]=i.arg;else if(t(267)===i.method){if(t(129)===s)throw s=t(232),i.arg;i.dispatchException(i[t(212)])}else t(239)===i[t(164)]&&i[t(251)]("return",i[t(212)]);s="executing";n=l(o,a,i);if(t(169)===n[t(133)]){if(s=i[t(240)]?"completed":t(195),n[t(212)]===p)continue;return{value:n[t(212)],done:i.done}}t(267)===n[t(133)]&&(s="completed",i[t(164)]=t(267),i.arg=n[t(212)])}}),e}function l(r,e,t){var n=f;try{return{type:n(169),arg:r[n(150)](e,t)}}catch(r){return{type:"throw",arg:r}}}c.wrap=s;var p={};function h(){}function i(){}function y(){}var e={},v=(o(e,a,function(){return this}),Object[f(233)]),v=v&&v(v(w([]))),_=(v&&v!==r&&u[f(150)](v,a)&&(e=v),y[f(137)]=h.prototype=Object[f(122)](e));function d(r){var e=f;[e(114),e(267),e(239)].forEach(function(e){o(r,e,function(r){return this._invoke(e,r)})})}function m(c,s){var e,o=f;this[o(124)]=function(t,n){function r(){return new s(function(r,e){!function e(r,t,n,o){var a,i=_0x4386,r=l(c[r],c,t);if("throw"!==r[i(133)])return(t=(a=r[i(212)])[i(115)])&&"object"==_typeof(t)&&u.call(t,i(182))?s[i(139)](t[i(182)])[i(188)](function(r){e(i(114),r,n,o)},function(r){e(i(267),r,n,o)}):s.resolve(t).then(function(r){a[i(115)]=r,n(a)},function(r){return e(i(267),r,n,o)});o(r[i(212)])}(t,n,r,e)})}return e=e?e[o(188)](r,r):r()}}function b(r){var e=f,t={tryLoc:r[0]};1 in r&&(t[e(181)]=r[1]),2 in r&&(t[e(163)]=r[2],t.afterLoc=r[3]),this[e(170)][e(204)](t)}function g(r){var e=f,t=r[e(187)]||{};t[e(133)]=e(169),delete t[e(212)],r[e(187)]=t}function x(r){var e=f;this[e(170)]=[{tryLoc:e(194)}],r[e(235)](b,this),this.reset(!0)}function w(t){var n=f;if(t){var o,r=t[a];if(r)return r[n(150)](t);if(n(190)==typeof t.next)return t;if(!isNaN(t.length))return o=-1,(r=function r(){for(var e=n;++o<t[e(246)];)if(u[e(150)](t,o))return r[e(115)]=t[o],r[e(240)]=!1,r;return r.value=void 0,r[e(240)]=!0,r})[n(114)]=r}return{next:k}}function k(){return{value:void 0,done:!0}}return i[f(137)]=y,o(_,f(176),y),o(y,f(176),i),i[f(247)]=o(y,n,f(110)),c[f(222)]=function(r){var e=f,r=e(190)==typeof r&&r[e(176)];return!!r&&(r===i||"GeneratorFunction"===(r[e(247)]||r[e(143)]))},c.mark=function(r){var e=f;return Object[e(127)]?Object[e(127)](r,y):(r[e(185)]=y,o(r,n,e(110))),r[e(137)]=Object[e(122)](_),r},c[f(135)]=function(r){return{__await:r}},d(m.prototype),o(m.prototype,t,function(){return this}),c[f(207)]=m,c[f(262)]=function(r,e,t,n,o){var a=f,i=(void 0===o&&(o=Promise),new m(s(r,e,t,n),o));return c[a(222)](e)?i:i[a(114)]()[a(188)](function(r){var e=a;return r[e(240)]?r[e(115)]:i[e(114)]()})},d(_),o(_,n,"Generator"),o(_,a,function(){return this}),o(_,f(161),function(){return f(113)}),c[f(172)]=function(n){var r,o=f,a=[];for(r in n)a[o(204)](r);return a[o(109)](),function r(){for(var e=o;a[e(246)];){var t=a[e(153)]();if(t in n)return r[e(115)]=t,r[e(240)]=!1,r}return r.done=!0,r}},c.values=w,x[f(137)]={constructor:x,reset:function(r){var e=f;if(this[e(205)]=0,this[e(114)]=0,this[e(158)]=this[e(174)]=void 0,this.done=!1,this[e(155)]=null,this[e(164)]=e(114),this[e(212)]=void 0,this[e(170)][e(235)](g),!r)for(var t in this)"t"===t.charAt(0)&&u.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){var r=f,e=(this[r(240)]=!0,this[r(170)][0].completion);if("throw"===e[r(133)])throw e[r(212)];return this[r(213)]},dispatchException:function(n){var o=f;if(this[o(240)])throw n;var a=this;function r(r,e){var t=o;return i[t(133)]="throw",i.arg=n,a[t(114)]=r,e&&(a[t(164)]=t(114),a[t(212)]=void 0),!!e}for(var e=this[o(170)][o(246)]-1;0<=e;--e){var t=this.tryEntries[e],i=t[o(187)];if("root"===t[o(167)])return r("end");if(t.tryLoc<=this[o(205)]){var c=u[o(150)](t,o(181)),s=u[o(150)](t,o(163));if(c&&s){if(this.prev<t.catchLoc)return r(t[o(181)],!0);if(this.prev<t.finallyLoc)return r(t[o(163)])}else if(c){if(this[o(205)]<t[o(181)])return r(t.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this[o(205)]<t[o(163)])return r(t[o(163)])}}}},abrupt:function(r,e){for(var t=f,n=this[t(170)][t(246)]-1;0<=n;--n){var o=this[t(170)][n];if(o[t(167)]<=this.prev&&u[t(150)](o,t(163))&&this[t(205)]<o[t(163)]){var a=o;break}}var i=(a=a&&("break"===r||t(209)===r)&&a[t(167)]<=e&&e<=a[t(163)]?null:a)?a[t(187)]:{};return i[t(133)]=r,i[t(212)]=e,a?(this[t(164)]=t(114),this.next=a[t(163)],p):this.complete(i)},complete:function(r,e){var t=f;if("throw"===r[t(133)])throw r[t(212)];return t(180)===r[t(133)]||t(209)===r[t(133)]?this.next=r[t(212)]:t(239)===r.type?(this[t(213)]=this.arg=r[t(212)],this[t(164)]=t(239),this[t(114)]=t(227)):t(169)===r[t(133)]&&e&&(this[t(114)]=e),p},finish:function(r){for(var e=f,t=this.tryEntries[e(246)]-1;0<=t;--t){var n=this.tryEntries[t];if(n[e(163)]===r)return this[e(230)](n.completion,n[e(223)]),g(n),p}},catch:function(r){for(var e=f,t=this[e(170)].length-1;0<=t;--t){var n,o,a=this[e(170)][t];if(a[e(167)]===r)return n=a.completion,e(267)===n[e(133)]&&(o=n.arg,g(a)),o}throw new Error("illegal catch attempt")},delegateYield:function(r,e,t){var n=f;return this[n(155)]={iterator:w(r),resultName:e,nextLoc:t},"next"===this[n(164)]&&(this[n(212)]=void 0),p}},c}function _0x3ceb(){var r=["modifiedFiles","forEach","320930AnKAbo","build","local.properties","return","done","stderr","symbol","apply","iterator result is not an object","src","length","displayName","env","projectPath","\n}\n\n","abrupt","export function templateObj(globalObjects) {\n    const {\n        $app_bootstrap$,\n        $app_define_wrap$,\n        $app_define$,\n        $app_evaluate$,\n        $app_require$,\n        bootstrap,\n        BroadcastChannel,\n        define,\n        history,\n        I18n,\n        Image,\n        register,\n        render,\n        require,\n        service,\n        global,\n        console,\n        setTimeout,\n        setInterval,\n        clearTimeout,\n        clearInterval\n      } = globalObjects;\n\n    let { TextDecoder } = globalObjects;\n","'] = templateObj;","entry","sep","options","number","wrap","138OoKnJK","reject","dirname","async","undefined","stop","mkdirSync","Object","throw","match","util","existsSync","replace","from","reverse","GeneratorFunction","reduce","harmony","[object Generator]","next","value","index.js","7455pFXfgn","_original.js","platform","basename","readFileSync","create","catch","_invoke","3jNHeJV","asyncIterator","setPrototypeOf","join","suspendedStart","@@toStringTag","Map","-m ","type","utf-8","awrap",'node --expose-gc "',"prototype","buildPath","resolve","Set","Generator is already running","concat","name","8Bgnziv","resultName"," is not an object.","packageName","Object is not async iterable","iterator","call","rawfile","promisify","pop","ERROR: Can not resolve file: ","delegate","writeFileSync","arkToolkit","sent","858132IJCwGC","quickapp","toString","globalThis.bundleMap['/","finallyLoc","method","statSync","The iterator does not provide a 'throw' method","tryLoc","string","normal","tryEntries","executing","keys","path","_sent","errors","constructor","normalize","835148BRFUZi","isArray","break","catchLoc","__await","1779750HSGnms","log","__proto__","includes","completion","then","emittedAssets","function","isFile","test","'] = appCodeObj;","root","suspendedYield","ERROR: Can not resolve ark toolkit path.","2444869SciYcA","../common/utils","afterEmit","WARNING: Failed to copy the file: ","build-win","resources","'--module'","push","prev","isDirectory","AsyncIterator","compiler","continue","4522860DMgfMw","hasOwnProperty","arg","rval","size","mark","toStringTag","ERROR: An error occurred while converting the file.\n @ ","split","sdk.dir","finish","@@iterator","isGeneratorFunction","afterLoc","build.config","assets","copyFileSync","end","build-mac","slice","complete","find","completed","getPrototypeOf"];return(_0x3ceb=function(){return r})()}function asyncGeneratorStep(r,e,t,n,o,a,i){var c=_0x4386;try{var s=r[a](i),u=s.value}catch(r){return void t(r)}s[c(240)]?e(u):Promise[c(139)](u)[c(188)](n,o)}function _asyncToGenerator(c){return function(){var r=this,i=arguments;return new Promise(function(e,t){var n=c.apply(r,i);function o(r){asyncGeneratorStep(n,e,t,o,a,_0x4386(114),r)}function a(r){asyncGeneratorStep(n,e,t,o,a,_0x4386(267),r)}o(void 0)})}}function _0x4386(r,e){var t=_0x3ceb();return(_0x4386=function(r,e){return t[r-=106]})(r,e)}function _asyncIterator(r){var e,t,n,o=_0x4386,a=2;for(o(263)!=typeof Symbol&&(t=Symbol[o(126)],n=Symbol.iterator);a--;){if(t&&null!=(e=r[t]))return e[o(150)](r);if(n&&null!=(e=r[n]))return new AsyncFromSyncIterator(e[o(150)](r));t="@@asyncIterator",n=o(221)}throw new TypeError(o(148))}function AsyncFromSyncIterator(r){var n=_0x4386;function o(r){var e=_0x4386;if(Object(r)!==r)return Promise.reject(new TypeError(r+e(146)));var t=r[e(240)];return Promise[e(139)](r[e(115)])[e(188)](function(r){return{value:r,done:t}})}return(AsyncFromSyncIterator=function(r){var e=_0x4386;this.s=r,this.n=r[e(114)]})[n(137)]={s:null,n:null,next:function(){var r=n;return o(this.n[r(243)](this.s,arguments))},return:function(r){var e=n,t=this.s[e(239)];return void 0===t?Promise[e(139)]({value:r,done:!0}):o(t[e(243)](this.s,arguments))},throw:function(r){var e=n,t=this.s[e(239)];return void 0===t?Promise[e(260)](r):o(t[e(243)](this.s,arguments))}},new AsyncFromSyncIterator(r)}!function(){for(var r=_0x4386,e=_0x3ceb();;)try{if(352105==+parseInt(r(125))*(parseInt(r(236))/2)+-parseInt(r(159))/3+-parseInt(r(178))/4+parseInt(r(117))/5*(parseInt(r(259))/6)+parseInt(r(197))/7*(-parseInt(r(144))/8)+parseInt(r(210))/9+parseInt(r(183))/10)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var fs=require("fs"),path=require(_0xf81f75(173)),util=require(_0xf81f75(269)),readline=require("readline"),_require=require(_0xf81f75(198)),clearResource=_require.clearResource,exec=util[_0xf81f75(152)](require("child_process").exec),HARMONY_APP_WRAP="export function appCodeObj(globalObjects) {\n    const {\n        $app_bootstrap$,\n        $app_define$,\n        $app_evaluate$,\n        $app_require$,\n        BroadcastChannel,\n        clearInterval,\n        clearTimeout,\n        I18n,\n        service,\n        setInterval,\n        setTimeout,\n        global,\n        console\n    } = globalObjects;\n\n    let { TextDecoder } = globalObjects;\n",HARMONY_PAGE_WRAP=_0xf81f75(252),isModule=!1;function HarmonyResourcePlugin(r){this.options=r}function jsToAbc(r,e,t){return _jsToAbc[_0xf81f75(243)](this,arguments)}function _jsToAbc(){var r=_0xf81f75;return(_jsToAbc=_asyncToGenerator(_regeneratorRuntime().mark(function r(t,n,o){var a,i,c=_0x4386;return _regeneratorRuntime()[c(258)](function(r){for(var e=c;;)switch(r[e(205)]=r.next){case 0:return r[e(205)]=0,a=getCmd(n,o),r[e(114)]=4,exec(a);case 4:if(a=r[e(158)],i=a[e(241)],(void 0===i?"":i)[e(186)](e(203)))return isModule=!0,r[e(114)]=11,jsToAbc(t,n,o);r[e(114)]=11;break;case 11:r[e(114)]=16;break;case 13:r[e(205)]=13,r.t0=r[e(123)](0),t[e(175)][e(204)]({message:e(217)[e(142)](o,"\n")});case 16:case e(227):return r[e(264)]()}},r,null,[[0,13]])})))[r(243)](this,arguments)}function getCmd(r,e){var t=_0xf81f75;return t(136)[t(142)](r,'" ')[t(142)](isModule?t(132):"").concat(e)}function transFile(r,e,t,n){return _transFile[_0xf81f75(243)](this,arguments)}function _transFile(){var e=_0xf81f75;return(_transFile=_asyncToGenerator(_regeneratorRuntime()[e(215)](function r(t,n,o,a){var i,c,s,u,f,l,p,h=e;return _regeneratorRuntime()[h(258)](function(r){for(var e=h;;)switch(r[e(205)]=r[e(114)]){case 0:i="",c=path[e(128)](n,a),s=fs.readdirSync(c),s=_createForOfIteratorHelper(s),r[e(205)]=4,s.s();case 6:if((u=s.n())[e(240)]){r[e(114)]=29;break}if(u=u[e(115)],f=path[e(128)](c,u),!(l=fs[e(165)](f))[e(191)]()){r.next=23;break}if(i=path[e(128)](o,a,path[e(120)](u)),!fs[e(106)](i)){r.next=19;break}if((p=fs.statSync(i))[e(191)]()&&p[e(214)]!==l[e(214)])return r[e(114)]=17,copyFile(f,i);r[e(114)]=17;break;case 17:r[e(114)]=21;break;case 19:return r[e(114)]=21,copyFile(f,i);case 21:r[e(114)]=27;break;case 23:if(l[e(206)]())return p=path.join(a,u),r[e(114)]=27,transFile(t,n,o,p);r[e(114)]=27;break;case 27:r[e(114)]=6;break;case 29:r[e(114)]=34;break;case 31:r[e(205)]=31,r.t0=r.catch(4),s.e(r.t0);case 34:return r[e(205)]=34,s.f(),r[e(220)](34);case 37:case e(227):return r[e(264)]()}},r,null,[[4,31,34,37]])})))[e(243)](this,arguments)}function copyFile(r,e){return _copyFile.apply(this,arguments)}function _copyFile(){var e=_0xf81f75;return(_copyFile=_asyncToGenerator(_regeneratorRuntime()[e(215)](function r(t,n){var o=e;return _regeneratorRuntime()[o(258)](function(r){for(var e=o;;)switch(r[e(205)]=r[e(114)]){case 0:if(fs.existsSync(t)){mkParentDir(path.join(n,".."));try{fs[e(226)](t,n)}catch(r){console[e(184)](e(200)[e(142)](t))}}case 1:case e(227):return r[e(264)]()}},r)})))[e(243)](this,arguments)}function mkParentDir(r){var e,t=_0xf81f75;fs[t(106)](r)&&fs.statSync(r)[t(206)]()||(e=path[t(128)](r,".."),fs[t(106)](e)&&!fs[t(165)](e)[t(191)]()||mkParentDir(e),fs[t(265)](r))}function readLocalPropCfg(r){return _readLocalPropCfg[_0xf81f75(243)](this,arguments)}function _readLocalPropCfg(){var e=_0xf81f75;return(_readLocalPropCfg=_asyncToGenerator(_regeneratorRuntime()[e(215)](function r(t){var n,o,a,i,c,s,u=e;return _regeneratorRuntime()[u(258)](function(r){for(var e=u;;)switch(r[e(205)]=r[e(114)]){case 0:n={},c=fs.createReadStream(t),c=readline.createInterface({input:c,crlfDelay:1/0}),a=o=!1,r[e(205)]=5,c=_asyncIterator(c);case 7:return r[e(114)]=9,c[e(114)]();case 9:if(!(o=!(s=r[e(158)])[e(240)])){r[e(114)]=16;break}s=s[e(115)],3<=(s=s[e(268)](/(.+)=(.+)/)||[]).length&&(n[s[1]]=s[2]);case 13:o=!1,r[e(114)]=7;break;case 16:r[e(114)]=22;break;case 18:r[e(205)]=18,r.t0=r[e(123)](5),a=!0,i=r.t0;case 22:if(r[e(205)]=22,r[e(205)]=23,o&&null!=c[e(239)])return r[e(114)]=27,c[e(239)]();r.next=27;break;case 27:if(r[e(205)]=27,a)throw i;r.next=30;break;case 30:return r.finish(27);case 31:return r[e(220)](22);case 32:return r[e(251)](e(239),n);case 33:case"end":return r[e(264)]()}},r,null,[[5,18,22,32],[23,,27,31]])})))[e(243)](this,arguments)}function getBuildConfig(r){var e=_0xf81f75,r=path.join(r,e(119),e(224));if(fs[e(106)](r))return JSON.parse(fs[e(121)](r,e(134)));throw e(154).concat(r,".")}function getArkToolPath(r){return _getArkToolPath.apply(this,arguments)}function _getArkToolPath(){var r=_0xf81f75;return(_getArkToolPath=_asyncToGenerator(_regeneratorRuntime().mark(function r(t){var n,o,a,i,c,s,u=_0x4386;return _regeneratorRuntime()[u(258)](function(r){for(var e=u;;)switch(r.prev=r.next){case 0:if(n=path[e(128)](t,"platform",e(112)),fs[e(106)](n)){r.next=3;break}return r.abrupt(e(239),"");case 3:if(o=path[e(128)](n,e(238)),fs.existsSync(o)){r[e(114)]=6;break}throw e(154).concat(o,".");case 6:return r.next=8,readLocalPropCfg(o);case 8:if(a=r[e(158)],(a=process[e(248)].OHOS_SDK_HOME||a[e(219)])&&fs[e(106)](a)){r[e(114)]=12;break}throw"ERROR: Can not resolve harmony sdk path.";case 12:if(i=getBuildConfig(t),(i=i[e(112)])&&i[e(157)]){r[e(114)]=16;break}throw"ERROR: The ark toolkit path is not configured.";case 16:return s=path[e(177)](i[e(157)][e(107)](/\$.+\$/g,a)),c={win:path[e(128)](s,e(201),e(245),e(116)),mac:path[e(128)](s,e(228),e(245),"index.js"),linux:path.join(s,e(237),e(245),"index.js")},s=Object[e(172)](c)[e(231)](function(r){return fs[e(106)](c[r])}),r[e(251)](e(239),c[s]);case 20:case e(227):return r[e(264)]()}},r)})))[r(243)](this,arguments)}function jsBundleWrapper(r,e,t){var n=_0xf81f75,o=fs[n(121)](r,n(134)),a=r[n(268)](/\bapp\.js$/),e=path.relative(e,r)[n(218)](path[n(255)])[n(128)]("/"),o=concatCode(a?[HARMONY_APP_WRAP,o,n(250),n(162)[n(142)](t,"/").concat(e,n(193))]:[HARMONY_PAGE_WRAP,o,n(250),n(162)[n(142)](t,"/")[n(142)](e,n(253))]);fs[n(156)](r,o)}function concatCode(r){return r[_0xf81f75(111)](function(r,e){return r+=e},"")}function transAssets(r,e,t,n){return _transAssets[_0xf81f75(243)](this,arguments)}function _transAssets(){var e=_0xf81f75;return(_transAssets=_asyncToGenerator(_regeneratorRuntime()[e(215)](function r(t,n,o,a){var i,c,s,u,f,l,p=e;return _regeneratorRuntime()[p(258)](function(r){for(var e=p;;)switch(r[e(205)]=r[e(114)]){case 0:if(n){r[e(114)]=2;break}return r[e(251)](e(239));case 2:i=o[e(249)],c=o[e(138)],s=o[e(147)],u=_createForOfIteratorHelper(n),r[e(205)]=4,u.s();case 6:if((f=u.n())[e(240)]){r.next=18;break}if(f=f.value,f=path[e(128)](i,f),/\.js$/.test(f))return l=path[e(128)](path[e(261)](f),path[e(120)](f).replace(/\.js$/g,e(118))),fs[e(226)](f,l),jsBundleWrapper(f,c,s),r[e(114)]=15,jsToAbc(t,a,f);r.next=16;break;case 15:fs.renameSync(l,f);case 16:r.next=6;break;case 18:r.next=23;break;case 20:r.prev=20,r.t0=r[e(123)](4),u.e(r.t0);case 23:return r.prev=23,u.f(),r[e(220)](23);case 26:case e(227):return r[e(264)]()}},r,null,[[4,20,23,26]])})))[e(243)](this,arguments)}HarmonyResourcePlugin[_0xf81f75(137)][_0xf81f75(243)]=function(r){var s,t,e=_0xf81f75,u=this[e(256)],f=u[e(249)],l=u[e(138)];r.hooks[e(199)].tapAsync("HarmonyResourcePlugin",(s=e,t=_asyncToGenerator(_regeneratorRuntime()[s(215)](function r(t,n){var o,a,i,c=s;return _regeneratorRuntime()[c(258)](function(r){for(var e=c;;)switch(r[e(205)]=r[e(114)]){case 0:return r[e(114)]=2,getArkToolPath(f);case 2:if((o=r[e(158)])&&fs[e(106)](o))return a=t[e(208)][e(234)],a=a&&0<a[e(214)]?t[e(189)]:Object[e(172)](t[e(225)]),r[e(114)]=8,transAssets(t,a,u,o);r.next=15;break;case 8:return i=path.join(f,e(119),"harmony",e(254),e(245),"main",e(202),e(151),e(160)),r.next=11,clearResource([i]);case 11:return r.next=13,transFile(t,l,i,"");case 13:r.next=16;break;case 15:throw e(196);case 16:n();case 17:case e(227):return r[e(264)]()}},r)})),function(r,e){return t[s(243)](this,arguments)}))},module.exports=HarmonyResourcePlugin;