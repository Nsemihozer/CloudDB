"use strict";var _0x2b563f=_0x5eb0,_require=(!function(){for(var e=_0x5eb0,a=_0x5e10();;)try{if(446073==-parseInt(e(251))+parseInt(e(216))/2*(-parseInt(e(183))/3)+parseInt(e(243))/4+parseInt(e(223))/5*(parseInt(e(175))/6)+-parseInt(e(235))/7+parseInt(e(177))/8+parseInt(e(247))/9)break;a.push(a.shift())}catch(e){a.push(a.shift())}}(),require("./model")),checkModel=_require.checkModel,_validator=require(_0x2b563f(172)),_require2=require(_0x2b563f(204)),parseFragment=_require2[_0x2b563f(185)],_tokenizer=_require2[_0x2b563f(253)],_require3=require(_0x2b563f(168)),traverseNode=_require3[_0x2b563f(231)],updateAction=_require3[_0x2b563f(199)];function _0x5eb0(e,a){var r=_0x5e10();return(_0x5eb0=function(e,a){return r[e-=168]})(e,a)}function calcSubTextNodesNum(e,a){var r,t=_0x2b563f,o=0;return _validator[t(193)][t(250)](e)&&(r=_validator[t(193)][t(190)](e),a[t(254)](function(e){var a=t;("#text"===e.nodeName&&e.value.trim()||-1<r[a(236)](e.nodeName))&&++o})),o}function traverse(n,l,c,s,d){var o,i,u,_=_0x2b563f,f=(global._enableJsVm&&(global[_(184)]=n),n[_(260)]&&(n[_(260)]=n.nodeName.toLowerCase(),n[_(258)]=n[_(260)]),_validator[_(193)][_(221)](n,l,d),(n[_(219)]||[])[_(254)](function(e){var a=_,r=e[a(209)][a(182)](),t=(e[a(209)]=r)[a(238)](/^:+/),o=(t&&(r=r[a(241)](t[a(218)])),e[a(248)]),i={line:1,column:1};switch(n[a(256)]&&(i={line:n[a(256)][a(242)],column:n[a(256)].startCol}),r){case a(257):_validator[a(193)][a(176)](o,n,l,i);break;case"id":_validator.default[a(234)](o,l),_validator.default[a(232)](r,o,l,n[a(260)],i);break;case"is":_validator[a(193)][a(240)](o,l);break;case"class":_validator[a(193)].checkClass(o,l,i);break;case a(198):_validator[a(193)][a(252)](o,l,i,n.tagName);break;case"if":_isFlexibleCardMode?_validator[a(193)][a(232)](r,o,l,n[a(260)],i):n[a(249)]||_validator[a(193)][a(230)](o,l,!1,i,c);break;case a(210):_isFlexibleCardMode?_validator[a(193)][a(232)](r,o,l,n.tagName,i):!n[a(249)]&&s&&s[a(179)]&&_validator[a(193)].checkElse(s[a(179)],l,i,c);break;case a(186):_isFlexibleCardMode?_validator[a(193)].checkAttr(r,o,l,n[a(260)],i):!n[a(249)]&&s&&s[a(179)]&&(n[a(179)]=_validator[a(193)][a(173)](o,s.__cond__,l,i,c));break;case a(224):_isFlexibleCardMode?_validator[a(193)].checkAttr(r,o,l,n[a(260)],i):n[a(249)]||(_isQuickCardMode&&n[a(260)]===a(207)&&_validator[a(193)][a(233)](r,n,l,i),_validator[a(193)][a(259)](o,l,i));break;case a(192):_validator[a(193)][a(188)](a(192),l);break;default:r[a(238)](/^(on|@)/)?_isFlexibleCardMode||_validator[a(193)].checkEvent(r,o,l):r[a(238)](/^model:/)?checkModel({name:r,value:o,nodeInfo:l,node:n,locate:i,depends:d}):r[a(238)](/^dir:/)?_validator[a(193)].checkCustomDirective(r,o,l,n):_validator[a(193)][a(232)](r,o,l,n[a(260)],i)}}),l[_(170)]),v=n[_(212)];v&&v[_(218)]&&(o=void 0,i=[],u=calcSubTextNodesNum(f.type,v),v[_(254)](function(e,a){var r=_,a=(0<a&&((a=v[a-1])[r(258)][r(238)](/^#/)||!(o=a).__cond__&&o.attrs&&o.attrs[r(254)](function(e){var a=r;"if"!==e[a(209)]&&a(186)!==e[a(209)]||(o[a(179)]=e[a(248)])})),{});if(e[r(258)][r(238)](/^#/)){if("#text"===e[r(258)]&&e[r(248)][r(203)]()){var t=d;if((_validator.default[r(250)](n[r(260)])&&2<=u||Array[r(178)](t)&&t[r(169)](n[r(260)]))&&(a.type="span",l[r(170)]=a,f[r(196)]=f[r(196)]||[],f.children[r(189)](a),_validator[r(193)][r(232)](r(248),e[r(248)],l)),n.tagName===r(255))return t=l[r(170)],l[r(170)]=f,Object[r(239)][r(208)][r(174)](f[r(237)],r(248))||_validator[r(193)][r(232)](r(248),e.value,l),_validator[r(193)][r(232)](r(200),e[r(248)],l),void(l[r(170)]=t);"marquee"===n[r(260)]&&(t=l.result,l.result=f,_validator.default[r(232)]("value",e[r(248)],l),l[r(170)]=t),(_validator[r(193)][r(250)](n[r(260)])&&1===u||_validator[r(193)].isTextContentAomtic(n[r(260)]))&&(t=l.result,l[r(170)]=f,_validator.default.checkAttr(r(248),e.value,l),l[r(170)]=t)}}else l.result=a,f[r(196)]=f[r(196)]||[],f.children[r(189)](a),traverse(e,l,i,o,d)}),f.children&&0===f[_(196)][_(218)]&&(f[_(196)]=void 0)),l.result=f}function checkNode(l){return function(e,a){var r,t=_0x5eb0,o=(a[t(244)]=Object[t(194)]({},a[t(244)],{line:a[t(244)].startLine,col:a[t(244)][t(187)]}),(a.tagName||"")[t(182)]()),i=a[t(245)],n=_validator[t(193)][t(228)](o);e.nodeInfo.tn&&o&&!e[t(222)].sc&&(r=String(a[t(244)][t(213)])+String(a[t(244)][t(206)]),n&&(r===e.nodeInfo[t(180)]||a.type!==_tokenizer[t(226)])||(l[t(201)][t(189)]({reason:t(229).concat(e[t(222)].tn," tag must be closed. ")+t(171)}),e[t(222)]={})),o&&n&&(a[t(214)]!==_tokenizer[t(226)]||i||(e[t(222)].tn=o,e[t(222)].sc=!1,e[t(222)][t(180)]=String(a[t(244)].line)+String(a[t(244)][t(206)])),a.type===_tokenizer[t(246)]&&o===e.nodeInfo.tn&&(e.nodeInfo.sc=!0))}}function _0x5e10(){var e=["location","selfClosing","END_TAG_TOKEN","1322514XDOmCx","value","_isroot","isSupportSpan","529409Efxyrs","checkStyle","_tokenizer","forEach","option","sourceCodeLocation","forcedark","nodeName","checkFor","tagName","../utils","includes","result","This is required by the XML specifications.","./validator","checkElif","call","4804782TZGdRh","checkForcedark","4957296zUvPCs","isArray","__cond__","pos","depends","toLowerCase","2826pNjTCl","_currentNode","parseFragment","elif","startCol","checkBuild","push","getTagChildren","versionNum","tree","default","assign","ERROR: '","children","charAt","style","updateAction","content","log","concat","trim","../../compiler-utils/parse5.bundle","webpacker","col","list-item","hasOwnProperty","name","else","' must not be a self-closing tag. ","childNodes","line","type","ERROR: Template parsing failed.","1298WpEthh","widgetPathsList","length","attrs","ERROR: No valid root node is found.","checkTagName","nodeInfo","5cEDDty","for","filePath","START_TAG_TOKEN","filter","isSupportedSelfClosing","ERROR: The ","checkIf","traverseNode","checkAttr","checkListItemFor","checkId","919709OFkdYl","indexOf","attr","match","prototype","checkIs","slice","startLine","603288FrYBsu"];return(_0x5e10=function(){return e})()}function checkTagSelfclosing(o){return function(e,a,r){var t=_0x5eb0;e&&!a&&o[t(201)].push({reason:t(195)[t(202)](r,t(211))})}}function loaderResult(e){var a=_0x2b563f;return{jsonTemplate:e.result,depends:e[a(181)],log:e[a(201)]}}function parse(e,a){var r=_0x2b563f,t=e&&e[r(191)],o=e&&e[r(217)],t={result:{},depends:[],log:[],filePath:e[r(225)],versionNum:t,widgetPathsList:o,webpacker:e[r(205)]},o=parseFragment(e.code,{_runParsingLoopCallback:checkNode(t),_insertElementCallback:checkTagSelfclosing(t),sourceCodeLocationInfo:!0},t);if(!o||!o[r(212)])return t.log[r(189)]({reason:r(215),line:1,column:1}),a(null,loaderResult(t));var i,n,o=o[r(212)][r(227)](function(e){var a=r;return"#"!==e.nodeName[a(197)](0)});1===o[r(218)]?((i=o[0])[r(249)]=!0,n={},_isFlexibleCardMode?updateAction(i,n,e[r(205)]):_isQuickCardMode&&traverseNode(i,n,e[r(205)]),traverse(i,t,{},null,e[r(181)])):t[r(201)][r(189)]({reason:o[r(218)]?"ERROR: Only one root node is allowed.":r(220),line:1,column:1}),a(null,loaderResult(t))}exports[_0x2b563f(193)]={parse:parse};