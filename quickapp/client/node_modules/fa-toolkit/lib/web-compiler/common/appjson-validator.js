"use strict";var _0x3fd552=_0x2c61;function _0xd4d3(){var e=["integer",": configuration item '","portrait","false","number","1406984GfcUnl","trim","./utils","ERROR","icon","6crlnuJ","741830JLSmTd","path","ERROR: app.json does not contain configuration item '","plugins","type","ERROR: Can not resolve file ï¼š","bottom","function","bind","WARNING: app.json configuration item '","networkTimeout","23860YQbdTl","stringify","string","Object","' is invalid.'","match","3900060vFDQMT","2656636tqxSDH","custom","permissionObject","ERROR: The platform version number of ","manifest","ERROR: Attribute '","join","' contains: \n ","' color value '","exports","' value '","object","push","logWarn","3iJCcZd","all","landscape","objArr","def","the attribute value must in [","isExp","log","window","' value is invalid.","2712710CKDoJW","prototype","5918LHzctD","symbol","HexColor","undefined","replace","permission","#ffffff","forEach","WARNING","minPlatformVersion"," Attribute '","value '","black"," \n ","toString","isArray",'" field in the app.json file >= 1069.',"reason","strArr","true","auto","white","boolean","7ZUQrAf","ERROR: app.json configuration item '","packageName","isEmptyObject","wifi","' is invalid.","NOTE",'please change "',"includes","value","required","tabBar","enum","constructor","' is not a configuration item of networkTimeout.","require","indexOf","keys","' is invalid","default"," is too early, ","concat","' is a character string, which should be an integer instead.","166197BtZkQy","splice","top","iterator","resourcePath","dark","length"];return(_0xd4d3=function(){return e})()}function _typeof(e){var t=_0x2c61;return(_typeof="function"==typeof Symbol&&t(402)==typeof Symbol[t(342)]?function(e){return typeof e}:function(e){var r=t;return e&&"function"==typeof Symbol&&e[r(329)]===Symbol&&e!==Symbol[r(400)]?r(402):typeof e})(e)}!function(){for(var e=_0x2c61,r=_0xd4d3();;)try{if(385218==-parseInt(e(339))+-parseInt(e(357))/2*(-parseInt(e(389))/3)+parseInt(e(375))/4+-parseInt(e(399))/5*(-parseInt(e(356))/6)+-parseInt(e(316))/7*(parseInt(e(351))/8)+parseInt(e(374))/9+parseInt(e(368))/10*(-parseInt(e(401))/11))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();var utils=require(_0x3fd552(353)),fs=require("fs"),path=require(_0x3fd552(358)),logTypes=[_0x3fd552(322),_0x3fd552(409),_0x3fd552(354)],REGEXP_INT=/^[0-9]+$/,REGEXP_COLOR_LONG=/^#[0-9a-fA-F]{6}$/,REGEXP_COLOR_SHORT=/^#[0-9a-fA-F]{3}$/,REGEXP_PACKAGE_NAME=/^[a-z0-9A-Z_.]{3,}$/,validator={enum:function(a,e){var n=_0x3fd552;return 0<=a[n(332)](e[n(415)]())?{value:e}:{value:null,reason:function(e,r){var t=n;return"ERROR: Attribute '"[t(337)](e,t(385))[t(337)](r,"' is invalid, ")+t(394).concat(a,"]")}}},packageName:function(e){var a=_0x3fd552;return(e||"")[a(415)]()[a(352)]().match(REGEXP_PACKAGE_NAME)?{value:!0}:{value:!1,reason:function(e,r){var t=a;return"ERROR: app.json configuration item '"[t(337)](e,t(385)).concat(r,"' is invalid.")}}},integer:function(e){var a=_0x3fd552;return a(370)===typeof e?e[a(373)](REGEXP_INT)?{value:!0,reason:function(e,r){var t=a;return t(366)[t(337)](e,"' ")+t(412)[t(337)](r,t(338))}}:{value:!1,reason:function(e,r){var t=a;return t(317)[t(337)](e,t(385))[t(337)](r,"' is invalid.")}}:(e=(e||"").toString())[a(373)](REGEXP_INT)?{value:!0}:{value:!1,reason:function(e,r){var t=a;return t(317).concat(e,t(385))[t(337)](r,t(321))}}},strArr:function(e){var a=_0x3fd552;return Array[a(416)](e)?{value:e}:{value:!1,reason:function(e,r){var t=a;return"ERROR: Attribute '"[t(337)](e,t(385))[t(337)](r,t(334))}}},window:function(o){var i=_0x3fd552;if("{}"===JSON.stringify(o))return{value:!0};var u={},d=[],l=0;return Object[i(333)](o)[i(408)](function(e){var r,t,a=i,n=windowValidatorMap[e]&&windowValidatorMap[e].type;a(364)===typeof n?("number"!=typeof(n=n(o[e]))[a(325)]&&a(370)!==typeof n[a(325)]&&a(423)!==typeof n.value||(u[e]=n.value),n.reason&&((r=(n=n[a(418)](e,o[e]))[a(373)](/^([A-Z]+):/))&&(t=logTypes[a(332)](r[1]),l<t&&(l=t),n=n[a(405)](r[0],"")),d[a(387)](n))):(l=1,d.push(a(411)[a(337)](e,"' is not a configuration item of window.")))}),{value:utils[i(319)](u)?null:JSON[i(369)](u),reason:0<d[i(345)]?function(e){var r=i;return"".concat(logTypes[l],r(347)).concat(e,"' contains: \n ")+""[r(337)](d[r(381)](" \n "))}:null}},tabBar:function(o){var i=_0x3fd552;if(i(386)!==_typeof(o))return{value:!1,reason:function(e){var r=i;return r(380)[r(337)](e,r(398))}};var u=[],t=[],d=(Object[i(333)](tabBarValidatorMap).forEach(function(e){var r=i;tabBarValidatorMap[e][r(331)]&&u[r(387)](e),tabBarValidatorMap[e][r(393)]&&t[r(387)](tabBarValidatorMap[e].def)}),{}),l=[],f=0;return Object[i(333)](o)[i(408)](function(e){var r,t,a,n=i;typeof tabBarValidatorMap[e]!==n(404)?(-1!==u[n(332)](e)&&(r=u[n(332)](e),u[n(340)](r,1)),r=tabBarValidatorMap[e][n(361)],n(364)===typeof r&&(r=r(o[e]),n(350)!==typeof r[n(325)]&&"string"!=typeof r[n(325)]||(d[e]=r.value),r[n(418)]&&((t=(r=r[n(418)](e,o[e]))[n(373)](/^([A-Z]+):/))&&(a=logTypes[n(332)](t[1]),f<a&&(f=a),r=r[n(405)](t[0],"")),l[n(387)](r)))):(f=1,l[n(387)](" Attribute '"[n(337)](e,"' is not a sub-attribute of tabBar.")))}),0<u[i(345)]&&(f=2,l.push(" The mandatory sub-attribute is missing: "[i(337)](u[i(381)](", ")))),{value:utils[i(319)](d)?null:JSON[i(369)](d),reason:0<l.length?function(e){var r=i;return""[r(337)](logTypes[f],r(347))[r(337)](e,r(382))+""[r(337)](l[r(381)](r(414)))}:null}},networkTimeout:function(o){var i=_0x3fd552;if("{}"===JSON.stringify(o))return{value:!0};var u={},d=[],l=0;return Object[i(333)](o)[i(408)](function(e){var r,t,a=i,n=networkTimeoutValidatorMap[e]&&networkTimeoutValidatorMap[e][a(361)];a(364)===typeof n?("number"!=typeof(n=n(o[e]))[a(325)]&&a(370)!==typeof n[a(325)]&&a(423)!==typeof n[a(325)]||(u[e]=n.value),n[a(418)]&&((r=(n=n[a(418)](e,o[e])).match(/^([A-Z]+):/))&&(t=logTypes[a(332)](r[1]),l<t&&(l=t),n=n[a(405)](r[0],"")),d.push(n))):(l=1,d[a(387)](a(411)[a(337)](e,a(330))))}),{value:utils.isEmptyObject(u)?null:JSON.stringify(u),reason:0<d[i(345)]?function(e){var r=i;return""[r(337)](logTypes[l],r(347))[r(337)](e,"' contains: \n ")+"".concat(d[r(381)](r(414)))}:null}},objArr:function(e){return{value:e}},string:function(e){return{value:e}},Object:function(e){return{value:e}},plugins:function(e){return{value:e}},preloadRule:function(e){return{value:e}},permission:function(e){return{value:e}},permissionObject:function(e){return{value:e}},HexColor:function(e){var a=_0x3fd552;return(e=(e||"")[a(415)]())[a(373)](REGEXP_COLOR_LONG)||e.match(REGEXP_COLOR_SHORT)?{value:e}:{value:null,reason:function(e,r){var t=a;return t(380)[t(337)](e,t(383))[t(337)](r,t(372))}}},number:function(e){var a=_0x3fd552;return"string"==typeof e?e.match(REGEXP_INT)?{value:Number(e),reason:function(e,r){var t=_0x2c61;return t(366).concat(e,"' ")+"value '"[t(337)](r,t(338))}}:{value:!1,reason:function(e,r){var t=_0x2c61;return t(317)[t(337)](e,"' value '")[t(337)](r,t(334))}}:(e=(e||"")[a(415)]())[a(373)](REGEXP_INT)?{value:e}:{value:!1,reason:function(e,r){var t=a;return t(317).concat(e,t(385)).concat(r,t(321))}}},minPlatformVersion:function(e){var a=_0x3fd552,r=validator[a(346)](e);return r.value?e<1069?{value:!1,reason:function(e,r){var t=a;return t(378)[t(337)](r,t(336))+t(323)[t(337)](e,t(417))}}:{value:!0}:r}},validatorMap={package:{type:validator[_0x3fd552(318)],required:!0},name:{type:validator[_0x3fd552(370)],required:!0},versionName:{type:validator[_0x3fd552(370)],required:!0},versionCode:{type:validator[_0x3fd552(346)],required:!0},minPlatformVersion:{type:validator[_0x3fd552(410)],required:!0},window:{type:validator[_0x3fd552(397)],required:!1},tabBar:{type:validator[_0x3fd552(327)],required:!1},networkTimeout:{type:validator[_0x3fd552(367)],required:!1},functionalPages:{type:makeEnumValidator([_0x3fd552(349),"true"]),required:!1},subpackages:{type:validator[_0x3fd552(392)],required:!1},subPackages:{type:validator[_0x3fd552(392)],required:!1},workers:{type:validator.string,required:!1},requiredBackgroundModes:{type:validator[_0x3fd552(419)],required:!1},plugins:{type:validator[_0x3fd552(360)],required:!1},preloadRule:{type:validator.preloadRule,required:!1},resizable:{type:makeEnumValidator([_0x3fd552(349),"true"]),required:!1},navigateToMiniProgramAppIdList:{type:validator[_0x3fd552(419)],required:!1},usingComponents:{type:validator[_0x3fd552(371)],required:!1},permission:{type:validator[_0x3fd552(406)],required:!1},sitemapLocation:{type:validator[_0x3fd552(370)],required:!1},style:{type:validator[_0x3fd552(370)],required:!1}},windowValidatorMap={navigationBarBackgroundColor:{type:validator[_0x3fd552(403)],def:"#000000"},navigationBarTextStyle:{type:makeEnumValidator([_0x3fd552(422),"black"]),def:_0x3fd552(422)},navigationBarTitleText:{type:validator[_0x3fd552(370)]},navigationStyle:{type:makeEnumValidator([_0x3fd552(335),_0x3fd552(376)]),def:_0x3fd552(335)},backgroundColor:{type:validator[_0x3fd552(403)],def:_0x3fd552(407)},backgroundTextStyle:{type:makeEnumValidator(["dark","light"]),def:_0x3fd552(344)},backgroundColorTop:{type:validator.string,def:_0x3fd552(407)},backgroundColorBottom:{type:validator[_0x3fd552(370)],def:_0x3fd552(407)},enablePullDownRefresh:{type:makeEnumValidator([_0x3fd552(349),_0x3fd552(420)]),def:"false"},onReachBottomDistance:{type:validator[_0x3fd552(350)],def:50},pageOrientation:{type:makeEnumValidator([_0x3fd552(348),_0x3fd552(421),_0x3fd552(391)]),def:_0x3fd552(348)}},tabBarValidatorMap={color:{type:validator[_0x3fd552(403)],required:!0},selectedColor:{type:validator.HexColor,required:!0},backgroundColor:{type:validator[_0x3fd552(403)],required:!0},borderStyle:{type:makeEnumValidator(["black",_0x3fd552(422)]),required:!1,def:_0x3fd552(413)},list:{type:validator.array,required:!0},position:{type:makeEnumValidator([_0x3fd552(363),_0x3fd552(341)]),required:!1,def:_0x3fd552(363)},custom:{type:makeEnumValidator([_0x3fd552(349),_0x3fd552(420)]),required:!1,def:_0x3fd552(349)}},networkTimeoutValidatorMap={request:{type:validator[_0x3fd552(350)],required:!1,def:6e4},connectSocket:{type:validator[_0x3fd552(350)],required:!1,def:6e4},uploadFile:{type:validator[_0x3fd552(350)],required:!1,def:6e4},downloadFile:{type:validator.number,required:!1,def:6e4}},preloadRuleValidatorMap={packages:{type:validator[_0x3fd552(419)],required:!0},network:{type:makeEnumValidator([_0x3fd552(320),_0x3fd552(390)]),required:!1,def:_0x3fd552(320)}},permissionValidatorMap={"scope.userLocation":{type:validator[_0x3fd552(377)],required:!0}},requireAttrMap=[];function validate(e,r){var t=_0x3fd552,a=void 0,n=void 0,o=validatorMap[e];return o&&t(364)===typeof o[t(361)]?(a=o[t(361)](r))[t(418)]&&(n={reason:a[t(418)](e,r)}):a={value:!0},{value:a[t(325)],log:n}}function _0x2c61(e,r){var t=_0xd4d3();return(_0x2c61=function(e,r){return t[e-=316]})(e,r)}function makeEnumValidator(e){var r=_0x3fd552;return validator[r(328)][r(365)](null,e)}function getComponents(e){var r=_0x3fd552,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],a=[];return e[r(408)](function(e){t[r(324)](e.path)||a.push(e.path)}),JSON[r(369)](a)}!function(){var t=_0x3fd552;Object.keys(validatorMap)[t(408)](function(e){var r=t;validatorMap[e][r(326)]&&requireAttrMap[r(387)](e)})}(),module[_0x3fd552(384)]=function(e){var t,a,r,n,o=_0x3fd552,i=e.options[o(379)];return i&&(t=e[o(343)],a=[],requireAttrMap.forEach(function(e){var r=o;i[e]||a[r(387)]({reason:r(359)[r(337)](e,"'"),filePath:t})}),r=i[o(355)],n=void(utils[o(395)](r)||!r||fs.existsSync(path.join(t,"..",r[o(352)]()))||a[o(387)]({reason:o(362)[o(337)](r),filePath:t})),Object[o(333)](i)[o(408)](function(e){var r=o;(n=validate(e,i[e]))[r(396)]&&a.push({reason:n[r(396)][r(418)],filePath:t})}),utils[o(388)](e,a)),!0};