"use strict";var _0xedaba=_0x3946,_path=(!function(){for(var a=_0x3946,e=_0x1ae0();;)try{if(107089==-parseInt(a(319))*(-parseInt(a(299))/2)+-parseInt(a(340))/3+-parseInt(a(339))/4+parseInt(a(338))/5+-parseInt(a(336))/6*(-parseInt(a(351))/7)+-parseInt(a(308))/8*(parseInt(a(341))/9)+parseInt(a(358))/10*(parseInt(a(361))/11))break;e.push(e.shift())}catch(a){e.push(e.shift())}}(),require("path")),_fs=require("fs"),_utils=require(_0xedaba(332)),_packOptions=require(_0xedaba(301)),FILE_EXT_NAME=[".log",".flow",_0xedaba(305),".js",_0xedaba(334),_0xedaba(300),_0xedaba(356),_0xedaba(362),_0xedaba(317),_0xedaba(344),".less",_0xedaba(326),_0xedaba(298),_0xedaba(343),_0xedaba(328),".md",_0xedaba(346),_0xedaba(313),_0xedaba(350),".qcss",".qxml",_0xedaba(314),_0xedaba(324),_0xedaba(352)],IGNORE_FILES=["LICENSE",_0xedaba(321),_0xedaba(313),_0xedaba(297),_0xedaba(368),_0xedaba(337),_0xedaba(333)],REGEXP_ICON=/{{{(.+?)}}}|{{(.+?)}}/g,iconPaths=[];function copyFile(a,e){var t=_0xedaba;if(_fs.existsSync(a)){_utils[t(335)](_path[t(357)](e,".."));t=_fs[t(366)](a,e);if(t)throw t}}function transFile(r,_,o,c){var p,x=_0xedaba,u=_path[x(357)](r,o);_fs.readdirSync(u)[x(364)](function(a){var e,t,s=x,n=_path[s(357)](u,a),i=_fs[s(330)](n);i[s(367)]()?(t=_path.basename(n),e=_path[s(327)](n),FILE_EXT_NAME[s(349)](e)<0&&!IGNORE_FILES.includes(t)&&!_packOptions[s(329)](_path[s(312)](r,n),c)&&(p=_path[s(357)](_,o,_path[s(348)](a)),_fs.existsSync(p)?(e=_fs.statSync(p))[s(367)]()&&e[s(311)]!==i[s(311)]&&copyFile(n,p):(_versionType===s(355)&&iconPaths[s(302)](n)?require(s(310)).addWatermark:copyFile)(n,p))):i[s(365)]()&&!_packOptions.isIgnoreFile(_path[s(312)](r,n),c,s(309))&&(t=_path.join(o,a),transFile(r,_,t,c))})}function getIconPaths(a){var t,e,s=_0xedaba,n=[],i=a[s(307)],r=a[s(296)],a=(i[s(304)]||"")[s(353)]()[s(295)]();return a[s(363)](REGEXP_ICON)?(i=require("glob"),t=a[s(303)]("'")[1],e=_path[s(357)](r,s(347)),i[s(359)]("".concat(e,s(369))).forEach(function(a){var e=s,a=_fs[e(320)](a,e(325)).toString()||"{}",a=JSON[e(322)](a);a[t]&&n[e(306)](_path[e(357)](r,a[t]))})):n[s(306)](_path[s(357)](r,a)),n}function _0x3946(a,e){var t=_0x1ae0();return(_0x3946=function(a,e){return t[a-=295]})(a,e)}function _0x1ae0(){var a=[".coffee","join","59430fQbbVv","sync","ResourcePlugin","385SBuDvw",".ts","match","forEach","isDirectory","copyFileSync","isFile",".fecsrc","/*.json","trim","src",".fecsignore",".scss","4yyGxvG",".jsx","../common/packoptions-utils","includes","split","icon",".sh","push","manifest","256bpxpCO","folder","../../common/icon-handler","size","relative",".DS_Store",".wxs","tapAsync","options",".tsx","prototype","91721manjas","readFileSync",".npmignore","parse","apply",".qjs","utf8",".sass","extname",".html","isIgnoreFile","statSync","emit","../common/utils",".editorconfig",".css","mkdirsSync","66TiRXrM",".frameworkinfo","357185qPqHeZ","831060BXHztX","541116RQExia","12294DKwusO","hooks",".styl",".vue","build",".json","i18n","basename","indexOf",".pem","48398MuRgea",".ux","toString","ignoreRules","beta"];return(_0x1ae0=function(){return a})()}function ResourcePlugin(a){this[_0xedaba(316)]=a}ResourcePlugin[_0xedaba(318)][_0xedaba(323)]=function(a){var s=_0xedaba,n=this[s(316)];a[s(342)][s(331)][s(315)](s(360),function(a,e){var t=s;_versionType===t(355)&&(iconPaths=getIconPaths(n)),transFile(n.src,n[t(345)],"",n[t(354)]),e()})},module.exports=ResourcePlugin;